<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>オンライン神経衰弱</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">
        <!-- ログイン（ルーム入室）画面 -->
        <div id="login-screen" class="screen">
            <h1>神経衰弱</h1>

            <div class="menu-actions">
                <button id="mode-create" class="big-btn">ルームを作る</button>
                <button id="mode-join" class="big-btn secondary">ルームに参加する</button>
            </div>

            <!-- ルーム作成後の待機画面 -->
            <div id="create-view" class="sub-screen hidden">
                <p>あなたのルームID</p>
                <div class="room-id-box" id="generated-room-id">---</div>
                <p class="instruction">この番号を相手に教えてください</p>
                <button id="copy-btn" class="action-btn">IDをコピー</button>

                <div class="waiting-area">
                    <p id="player-count">参加者: 1人</p>
                    <ul id="player-list-lobby">
                        <!-- 参加者リスト（ロビー） -->
                    </ul>
                </div>

                <button id="start-game-btn" class="action-btn hidden" disabled>ゲーム開始</button>

                <div class="waiting-spinner">対戦相手を待っています...</div>
                <button class="back-link">戻る</button>
            </div>

            <!-- ルーム参加入力画面 -->
            <div id="join-view" class="sub-screen hidden">
                <input type="text" id="room-input" placeholder="ルームIDを入力" maxlength="10">
                <button id="join-confirm-btn" class="action-btn">参加する</button>
                <button class="back-link">戻る</button>
            </div>
        </div>

        <!-- ゲーム画面 -->
        <div id="game-screen" class="screen hidden">
            <div class="header">
                <div class="room-info">Room: <span id="room-id-display"></span></div>
                <button id="leave-btn" class="leave-btn">退出</button>
            </div>
            <div id="status-message" class="status-bar">ゲームの準備中...</div>

            <div class="scoreboard" id="scoreboard">
                <!-- プレイヤーカードはJSで動的に生成 -->
            </div>

            <div class="game-board" id="board">
                <!-- カードがここに生成されます -->
            </div>

            <div id="role-display" class="role-badge">観戦中</div>
        </div>

        <!-- 結果モーダル -->
        <div id="result-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="winner-text">勝者: Player 1!</h2>
                <div class="modal-buttons">
                    <button id="rematch-btn" class="primary-btn">もう一度プレイ</button>
                    <button id="home-btn" class="secondary-btn">ホームに戻る</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="confetti.js"></script>
    <script src="script.js"></script>
</body>

</html>